"use strict";(self.webpackChunkterra_nobre=self.webpackChunkterra_nobre||[]).push([[931],{8931:(D,p,i)=>{i.r(p),i.d(p,{UsuariosModule:()=>q});var A=i(3307),d=i(7023),m=i(3176),s=i(433),T=i(590),_=i(960),g=i(7578),t=i(1571),f=i(9231),b=i(6895),Z=i(247),h=i(9219),x=i(1299),l=i(3516);function U(e,r){1&e&&(t.TgZ(0,"div",26),t._UZ(1,"i",27),t._uU(2," Campo obrigat\xf3rio "),t.qZA())}function w(e,r){1&e&&(t.TgZ(0,"div",26),t._UZ(1,"i",27),t._uU(2," Campo obrigat\xf3rio "),t.qZA())}function O(e,r){if(1&e&&(t.TgZ(0,"form",14)(1,"div",15)(2,"div",16)(3,"label",17),t._uU(4,"Nome"),t.qZA(),t._UZ(5,"input",18),t.YNc(6,U,3,0,"div",19),t.qZA(),t.TgZ(7,"div",16)(8,"label",20),t._uU(9,"Email"),t.qZA(),t._UZ(10,"input",21),t.YNc(11,w,3,0,"div",19),t.qZA(),t.TgZ(12,"div",16)(13,"label",22),t._uU(14,"Fun\xe7\xe3o"),t.qZA(),t._UZ(15,"ng-select",23),t.qZA(),t.TgZ(16,"div",16)(17,"label",24),t._uU(18,"Status"),t.qZA(),t._UZ(19,"ng-select",25),t.qZA()()()),2&e){const o=t.oxw();t.Q6J("formGroup",o.formulario),t.xp6(6),t.Q6J("ngIf",o.formulario.get("nome").invalid&&o.formulario.get("nome").touched&&o.formulario.get("nome").errors.required),t.xp6(5),t.Q6J("ngIf",o.formulario.get("email").invalid&&o.formulario.get("email").touched&&o.formulario.get("email").errors.required),t.xp6(4),t.Q6J("items",o.arrayRole),t.xp6(4),t.Q6J("items",o.arrayStatus)}}function y(e,r){}function P(e,r){}let C=(()=>{class e extends _.o{constructor(o,a){super(o,a,g.b.fromJson),this.injector=o,this.usuarioService=a,this.formulario=this.formBuilder.group({id:[null],nome:["",s.kI.required],email:["",s.kI.required],role:[null],ativo:[!0]})}ngOnInit(){super.ngOnInit()}atribuirParaEditar(o){super.atribuirParaEditar(o),this.resource.pipe((0,T.P)()).subscribe(a=>{this.formulario.patchValue(a)})}setarBreadcrumb(){return[{texto:"Administra\xe7\xe3o"},{texto:"Usu\xe1rios",link:"/admin/usuarios"},{texto:`${this.tituloPagina} usu\xe1rios`}]}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.zs3),t.Y36(f.i))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-form-usuarios"]],features:[t.qOj],decls:24,vars:8,consts:[[3,"items"],["cardTitle","Regi\xe3o",3,"hidHeader","options"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem","",3,"destroyOnHide"],["ngbNavLink",""],[1,"fas","fa-user"],["ngbNavContent",""],[1,"fas","fa-lock"],[1,"fas","fa-info-circle"],[1,"mt-2",3,"ngbNavOutlet"],[1,"mt-2","d-flex","justify-content-start"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"icon","feather","icon-check-circle"],[3,"formGroup"],[1,"mt-2","form-row"],[1,"form-group","col-md-6"],["for","nome"],["formControlName","nome","type","text","id","nome",1,"form-control"],["class","text-danger-input",4,"ngIf"],["for","email"],["formControlName","email","type","text","id","email",1,"form-control"],["for","clientes"],["bindLabel","descricao","notFoundText","Nenhum resultado encontrado!","bindValue","valor","formControlName","role","placeholder","Selecionar",3,"items"],["for","Status"],["bindLabel","descricao","notFoundText","Nenhum resultado encontrado!","bindValue","valor","formControlName","ativo","placeholder","Selecionar",3,"items"],[1,"text-danger-input"],[1,"far","fa-times-circle"]],template:function(o,a){if(1&o&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"app-card",1)(2,"nav",2,3),t.ynx(4,4),t.TgZ(5,"a",5),t._UZ(6,"i",6),t._uU(7," Usu\xe1rio "),t.qZA(),t.YNc(8,O,20,5,"ng-template",7),t.BQk(),t.ynx(9,4),t.TgZ(10,"a",5),t._UZ(11,"i",8),t._uU(12," Nivel de acesso "),t.qZA(),t.YNc(13,y,0,0,"ng-template",7),t.BQk(),t.ynx(14,4),t.TgZ(15,"a",5),t._UZ(16,"i",9),t._uU(17," Alterar senha "),t.qZA(),t.YNc(18,P,0,0,"ng-template",7),t.BQk(),t.qZA(),t._UZ(19,"div",10),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){return a.submitFormulario()}),t._UZ(22,"i",13),t._uU(23),t.qZA()()()),2&o){const n=t.MAs(3);t.Q6J("items",a.setarBreadcrumb()),t.xp6(1),t.Q6J("hidHeader",!0)("options",!0),t.xp6(3),t.Q6J("destroyOnHide",!1),t.xp6(5),t.Q6J("destroyOnHide",!1),t.xp6(5),t.Q6J("destroyOnHide",!1),t.xp6(5),t.Q6J("ngbNavOutlet",n),t.xp6(4),t.hij(" ",a.textoBotaoFormulario," ")}},dependencies:[b.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,Z.w9,h.A,x.L,l.uN,l.Pz,l.nv,l.Vx,l.tO]}),e})();var v=i(8145),k=i(5226),z=i.n(k);function G(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"a",1),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.atribuirParaVisualizar())}),t._UZ(1,"i",2),t.qZA()}}function M(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"a",1),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.atribuirParaEditar())}),t._UZ(1,"i",3),t.qZA()}}function N(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"a",1),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.excluir())}),t._UZ(1,"i",4),t.qZA()}}function B(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"a",1),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.atribuirParaVisualizarCronologia())}),t._UZ(1,"i",5),t.qZA()}}let E=(()=>{class e{constructor(){this.botoesAgGrid=new S}agInit(o){this.params=o}ngAfterViewInit(){this.botoesAgGrid=this.params.context.botoesAgGrid}atribuirParaEditar(){this.params.context.componentParent.atribuirParaEditar(this.params.node.data)}atribuirParaVisualizar(){this.params.context.componentParent.atribuirParaVisualizar(this.params.node.data)}atribuirParaVisualizarCronologia(){this.params.context.componentParent.atribuirParaVisualizarCronologia(this.params.node.data)}excluir(){z().fire({title:"Excluir",text:"Realmente deseja excluir?",icon:"warning",showCancelButton:!0,focusCancel:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, deletar!",cancelButtonText:"Cancelar"}).then(o=>{o.value&&this.params.context.componentParent.excluir(this.params.node.data)})}refresh(){return!1}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-botoes"]],decls:4,vars:4,consts:[["class","mr-2",3,"click",4,"ngIf"],[1,"mr-2",3,"click"],["aria-hidden","true",1,"btnVisualizar","fas","fa-eye","fa-md"],["aria-hidden","true",1,"btnEditar","fas","fa-pencil-alt","fa-md"],["aria-hidden","true",1,"btnExcluir","fa","fa-trash","fa-md"],["aria-hidden","true",1,"btnCronologia","fas","fa-clock","fa-md"]],template:function(o,a){1&o&&(t.YNc(0,G,2,0,"a",0),t.YNc(1,M,2,0,"a",0),t.YNc(2,N,2,0,"a",0),t.YNc(3,B,2,0,"a",0)),2&o&&(t.Q6J("ngIf",a.botoesAgGrid.btnVisualizar),t.xp6(1),t.Q6J("ngIf",a.botoesAgGrid.btnEditar),t.xp6(1),t.Q6J("ngIf",a.botoesAgGrid.btnExcluir),t.xp6(1),t.Q6J("ngIf",a.botoesAgGrid.btnCronologia))},dependencies:[b.O5],styles:[".btnEditar[_ngcontent-%COMP%]{color:#202c44b4;cursor:pointer;margin-right:2px}.btnVisualizar[_ngcontent-%COMP%]{color:#202c44b4;cursor:pointer}.btnExcluir[_ngcontent-%COMP%]{color:#ff0000b4;cursor:pointer}.btnCronologia[_ngcontent-%COMP%]{color:#004936;cursor:pointer}.btnImprimir[_ngcontent-%COMP%]{color:#202c44b4;cursor:pointer}.btnReclamacoes[_ngcontent-%COMP%]{cursor:pointer}.imagemPromocao[_ngcontent-%COMP%]{border:solid px;border-radius:10px}"]}),e})();class S{}var u=i(4675);let J=(()=>{class e{agInit(o){this.params=o}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-loading-ag-grid"]],decls:5,vars:0,consts:[[1,"ag-overlay-loading-center"],[1,"imagem","bounce-animation","mb-2"],[1,"loader"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Carregando..."),t.qZA()())},styles:['span[_ngcontent-%COMP%]{font-size:13px;font-family:Lexend,sans-serif;color:#757575}.imagem[_ngcontent-%COMP%]{align-self:flex-end;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;height:50px;margin:0 auto;transform-origin:bottom;width:50px!important}.ag-overlay-loading-center[_ngcontent-%COMP%]{padding:15px;border-color:#f3f3f3;background-color:#f3f3f3;border-radius:10px}.loader[_ngcontent-%COMP%]{-webkit-animation:rotate 2s infinite;animation:rotate 2s infinite;height:50px;width:50px;margin:auto}.loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{border-radius:50%;content:"";display:block;height:20px;width:20px}.loader[_ngcontent-%COMP%]:before{-webkit-animation:ball1 2s infinite;animation:ball1 2s infinite;background-color:#f09610;box-shadow:30px 0 #f09610;margin-bottom:10px}.loader[_ngcontent-%COMP%]:after{-webkit-animation:ball2 2s infinite;animation:ball2 2s infinite;background-color:#004936;box-shadow:30px 0 #004936}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0deg) scale(.8);-moz-transform:rotate(0deg) scale(.8)}50%{-webkit-transform:rotate(360deg) scale(1.2);-moz-transform:rotate(360deg) scale(1.2)}to{-webkit-transform:rotate(720deg) scale(.8);-moz-transform:rotate(720deg) scale(.8)}}@keyframes rotate{0%{-webkit-transform:rotate(0deg) scale(.8);-moz-transform:rotate(0deg) scale(.8)}50%{-webkit-transform:rotate(360deg) scale(1.2);-moz-transform:rotate(360deg) scale(1.2)}to{-webkit-transform:rotate(720deg) scale(.8);-moz-transform:rotate(720deg) scale(.8)}}@-webkit-keyframes ball1{0%{box-shadow:30px 0 #58a758}50%{box-shadow:0 0 #58a758;margin-bottom:0;-webkit-transform:translate(15px,15px);-moz-transform:translate(15px,15px)}to{box-shadow:30px 0 #58a758;margin-bottom:10px}}@keyframes ball1{0%{box-shadow:30px 0 #58a758}50%{box-shadow:0 0 #58a758;margin-bottom:0;-webkit-transform:translate(15px,15px);-moz-transform:translate(15px,15px)}to{box-shadow:30px 0 #58a758;margin-bottom:10px}}@-webkit-keyframes ball2{0%{box-shadow:30px 0 #4b4b4b}50%{box-shadow:0 0 #4b4b4b;margin-top:-20px;-webkit-transform:translate(15px,15px);-moz-transform:translate(15px,15px)}to{box-shadow:30px 0 #4b4b4b;margin-top:0}}@keyframes ball2{0%{box-shadow:30px 0 #4b4b4b}50%{box-shadow:0 0 #4b4b4b;margin-top:-20px;-webkit-transform:translate(15px,15px);-moz-transform:translate(15px,15px)}to{box-shadow:30px 0 #4b4b4b;margin-top:0}}']}),e})();i(5398);let R=(()=>{class e{constructor(o,a,n,c){this.injector=o,this.resourceService=a,this.jsonDadosToResourceFn=n,this.botoesAgGrid=c,this.menuService=this.injector.get(v.h),this.router=this.injector.get(d.F0)}ngOnInit(){this.configurarAgGrid(),this.ajustarAgGrid(),this.definirColunasAgGrid()}inicializarAgGrid(o){this.gridApi=o.api,this.gridColumnApi=o.columnApi,this.gridApi.setDatasource({getRows:n=>{this.gridDadosApi=n,this.obterTodos(n.endRow/this.gridOptions.paginationPageSize)}}),this.gridApi.sizeColumnsToFit()}obterTodos(o){o=o||1,this.mostrarCarregandoAgGrid(),this.resourceService.obterTodosPaginados(this.gridOptions.paginationPageSize.toString(),o.toString(),this.gridDadosApi).subscribe({next:a=>this.gridDadosApi.successCallback(a?a.items:[],a?a.total:0),error:a=>this.acaoQuandoForError(a),complete:()=>this.esconderCarregandoAgGrid()})}inicializarDataTable(o){this.gridApi=o.api,this.gridApi.sizeColumnsToFit()}localAlterado(){this.obterTodos()}ajustarAgGrid(){this.menuService.emitirMenuAlterado.subscribe(()=>this.gridApi.sizeColumnsToFit())}configurarAgGrid(){this.cacheOverflowSize=2,this.maxConcurrentDatasourceRequests=2,this.gridOptions={cacheBlockSize:15,paginationPageSize:15,rowModelType:"infinite"},this.definicaoPadraoColunas={resizable:!0,floatingFilter:!0,sortable:!0},this.gridContext={componentParent:this,botoesAgGrid:this.botoesAgGrid},this.traducaoAgGrid=class F{static Traduzir(){return{page:"Pagina",more:"Mais",to:"Para",of:"De",next:"Proximo",last:"Ultimo",first:"Primeiro",previous:"daPreviousen",loadingOoo:"Carregando...",selectAll:"Selecionar tudo",searchOoo:"Pesquisar...",blanks:"daBlanc",filterOoo:"Filtro...",applyFilter:"Aplicar filtro...",equals:"Igual a",notEqual:"Diferente de",contains:"Contem",notContains:"N\xe3o contem",startsWith:"Inicia com",endsWith:"Termina com",andCondition:"E",orCondition:"Ou",group:"Grupo",columns:"Colunas",filters:"Filtros",noRowsToShow:"Informa\xe7\xf5es n\xe3o encontradas",inRange:"Entre",greaterThan:"Maior que",lessThan:"Menor que"}}}.Traduzir(),this.frameworkComponents={customLoadingOverlay:J,childMessageRenderer:E},this.loadingOverlayComponent="customLoadingOverlay"}excluir(o){this.resourceService.excluir(o.id).subscribe({next:()=>{this.acaoQuandoForSucesso(),this.gridApi.onFilterChanged()},error:()=>this.acaoQuandoForError()})}mostrarCarregandoAgGrid(){this.gridApi.showLoadingOverlay()}esconderCarregandoAgGrid(){this.gridApi.hideOverlay()}acaoQuandoForSucesso(o){return u.s.AlertaToastSuccess(o||"Solicita\xe7\xe3o processada com sucesso!")}acaoQuandoForError(o){return this.gridDadosApi?.failCallback(),u.s.AlertaToastError(o||"Ocorreu um erro ao processar a sua solicita\xe7\xe3o!")}}return e.\u0275fac=function(o){t.$Z()},e.\u0275dir=t.lG2({type:e}),e})();var Q=i(3172);const I=[{path:"",component:(()=>{class e extends R{constructor(o,a,n){super(o,n,g.b.fromJson,{btnEditar:!0,btnExcluir:!0}),this.injector=o,this.menuService=a,this.cargoService=n}ngOnInit(){super.ngOnInit()}definirColunasAgGrid(){this.colunasTabela=[{headerName:"Nome",field:"nome",suppressMenu:!0,suppressSizeToFit:!1,filter:!0,width:200},{headerName:"A\xe7\xf5es",cellRenderer:"childMessageRenderer",suppressFiltersToolPanel:!0,suppressSizeToFit:!1,width:50}]}atribuirParaSalvar(){this.router.navigate(["admin/usuarios/cadastrar"])}atribuirParaEditar(o){this.router.navigate([`admin/usuarios/editar/${o.id}`])}setarBreadcrumb(){return[{texto:"Administra\xe7\xe3o"},{texto:"Usuarios"}]}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.zs3),t.Y36(v.h),t.Y36(f.i))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-lista-usuarios"]],features:[t.qOj],decls:9,vars:16,consts:[[3,"items"],["cardTitle","Usuarios",3,"hidHeader","options"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"icon","feather","icon-plus-circle"],[1,"ag-theme-balham",2,"height","487px",3,"columnDefs","defaultColDef","gridOptions","animateRows","localeText","cacheOverflowSize","context","loadingOverlayComponent","suppressExcelExport","maxConcurrentDatasourceRequests","frameworkComponents","infiniteInitialRowCount","pagination","gridReady"],["myGrid",""]],template:function(o,a){1&o&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"app-card",1)(2,"div")(3,"button",2),t.NdJ("click",function(){return a.atribuirParaSalvar()}),t._UZ(4,"i",3),t._uU(5," Cadastrar"),t.qZA()(),t._UZ(6,"hr"),t.TgZ(7,"ag-grid-angular",4,5),t.NdJ("gridReady",function(c){return a.inicializarAgGrid(c)}),t.qZA()()),2&o&&(t.Q6J("items",a.setarBreadcrumb()),t.xp6(1),t.Q6J("hidHeader",!0)("options",!0),t.xp6(6),t.Q6J("columnDefs",a.colunasTabela)("defaultColDef",a.definicaoPadraoColunas)("gridOptions",a.gridOptions)("animateRows",!0)("localeText",a.traducaoAgGrid)("cacheOverflowSize",a.cacheOverflowSize)("context",a.gridContext)("loadingOverlayComponent",a.loadingOverlayComponent)("suppressExcelExport",!0)("maxConcurrentDatasourceRequests",a.maxConcurrentDatasourceRequests)("frameworkComponents",a.frameworkComponents)("infiniteInitialRowCount",a.infiniteInitialRowCount)("pagination",!0))},dependencies:[h.A,x.L,Q.N8],styles:[".btnAddCliente[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important;align-content:center!important;align-items:center!important}.btnAddCliente[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px!important}"]}),e})(),canActivate:[m.a]},{path:"cadastrar",component:C,canActivate:[m.a]},{path:"editar/:id",component:C,canActivate:[m.a]}];let L=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(I),d.Bz]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[A.m8,L]}),e})()}}]);